<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMSCE Event Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fafafa 0%, #f0f4ff 50%, #fff5f7 100%);
            position: relative;
            overflow-x: hidden;
        }

        /* Subtle wavy background pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 182, 193, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(230, 230, 250, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(176, 224, 230, 0.08) 0%, transparent 50%),
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 20px,
                    rgba(221, 160, 221, 0.03) 20px,
                    rgba(221, 160, 221, 0.03) 40px
                );
            z-index: -1;
            pointer-events: none;
        }

        /* Custom time display */
        .time-display {
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            text-align: center;
            letter-spacing: 2px;
        }

        .time-display .time {
            font-size: 2.5rem;
            margin-bottom: 0;
            line-height: 1;
        }

        .time-display .date {
            font-size: 0.9rem;
            color: #d1d1d1;
            margin-top: -5px;
        }

        /* Fun decorative elements */
        .doodle {
            position: fixed;
            pointer-events: none;
            z-index: 0;
            opacity: 0.15;
        }

        .doodle-star {
            animation: twinkle 3s ease-in-out infinite;
        }

        .doodle-circle {
            animation: float 4s ease-in-out infinite;
        }

        .doodle-zigzag {
            animation: wiggle 5s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.1; transform: scale(1); }
            50% { opacity: 0.3; transform: scale(1.2); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        /* Filter Sidebar Styles */
        .filter-section {
            transition: all 0.3s ease;
        }

        .filter-section.collapsed .filter-content {
            max-height: 0;
            overflow: hidden;
        }

        .filter-section:not(.collapsed) .filter-content {
            max-height: 500px;
            overflow-y: auto;
        }

        .filter-checkbox {
            appearance: none;
            width: 16px;
            height: 16px;
            border: 2px solid #666;
            border-radius: 3px;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }

        .filter-checkbox:checked {
            background: #333;
            border-color: #333;
        }

        .filter-checkbox:checked::after {
            content: 'âœ“';
            position: absolute;
            color: white;
            font-size: 12px;
            top: -2px;
            left: 1px;
        }

        /* Card elevation and hover effects */
        .event-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
        }

        .event-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
        }

        /* Smooth scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #999;
            border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #666;
        }

        /* Active filter badge animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .filter-badge {
            animation: fadeIn 0.3s ease-out;
        }

        /* Instagram link styling */
        .instagram-link {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            color: #1a1a1a;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s;
        }

        .instagram-link:hover {
            color: #E1306C;
        }

        .instagram-link svg {
            width: 14px;
            height: 14px;
            color: #E1306C;
        }

        /* Wavy border decoration - BEHIND the header content */
        .header-wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            overflow: hidden;
            z-index: 0; /* Behind header content */
            pointer-events: none;
        }

        .header-wave svg {
            width: 100%;
            height: 100%;
        }

        /* Ensure header content is above the wave */
        .header-content {
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Fun Decorative Doodles -->
    <svg class="doodle doodle-star" style="top: 10%; left: 5%; width: 60px;" viewBox="0 0 100 100">
        <polygon points="50,10 61,35 88,35 67,52 78,78 50,60 22,78 33,52 12,35 39,35" fill="#FFB6C1"/>
    </svg>
    
    <svg class="doodle doodle-circle" style="top: 15%; right: 8%; width: 50px;" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="40" fill="none" stroke="#E6E6FA" stroke-width="4" stroke-dasharray="10,5"/>
    </svg>
    
    <svg class="doodle doodle-zigzag" style="top: 40%; left: 3%; width: 70px;" viewBox="0 0 100 100">
        <path d="M10,50 L30,30 L50,50 L70,30 L90,50" fill="none" stroke="#98FB98" stroke-width="3"/>
    </svg>
    
    <svg class="doodle doodle-star" style="top: 60%; right: 5%; width: 55px;" viewBox="0 0 100 100">
        <polygon points="50,10 61,35 88,35 67,52 78,78 50,60 22,78 33,52 12,35 39,35" fill="#FFDAB9"/>
    </svg>
    
    <svg class="doodle doodle-circle" style="bottom: 15%; left: 7%; width: 65px;" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="35" fill="none" stroke="#B0E0E6" stroke-width="5"/>
        <circle cx="50" cy="50" r="20" fill="none" stroke="#B0E0E6" stroke-width="3"/>
    </svg>
    
    <svg class="doodle doodle-zigzag" style="bottom: 20%; right: 10%; width: 60px;" viewBox="0 0 100 100">
        <path d="M20,20 Q35,50 50,20 T80,20" fill="none" stroke="#FFFFE0" stroke-width="4"/>
    </svg>

    <!-- Header with Black Background - Compact, Non-Sticky -->
    <header class="bg-black text-white shadow-lg relative border-b-2 border-gray-700">
        <!-- Wavy border decoration at bottom of header - BEHIND content -->
        <div class="header-wave">
            <svg viewBox="0 0 1200 30" preserveAspectRatio="none">
                <path d="M0,15 Q150,5 300,15 T600,15 T900,15 T1200,15 L1200,30 L0,30 Z" fill="#2d3d2d" opacity="0.8"/>
                <path d="M0,18 Q150,8 300,18 T600,18 T900,18 T1200,18 L1200,30 L0,30 Z" fill="#3a4a3a" opacity="0.6"/>
            </svg>
        </div>

        <div class="max-w-[1600px] mx-auto px-6 header-content">
            <div class="flex items-center justify-between" style="padding: 4px 0;">
                <!-- Logo - Left -->
                <!-- TO ADJUST LOGO SIZE: Change text-lg to text-sm (smaller) or text-xl (larger) -->
                <div class="flex-none w-64">
                    <h1 class="text-lg font-bold text-white tracking-tight">BMSCE EVENT HUB</h1>
                    <p class="text-xs text-gray-300 font-medium">BMS College of Engineering</p>
                </div>

                <!-- Dynamic Time Display - Center -->
                <div class="flex-1 flex justify-center">
                    <div class="time-display">
                        <div class="time" id="currentTime">00:00:00</div>
                        <div class="date" id="currentDate">Loading...</div>
                    </div>
                </div>

                <!-- Login Button - Right -->
                <!-- TO ADJUST BUTTON SIZE: Change px-4 py-1.5 to px-3 py-1 (smaller) or px-5 py-2 (larger) -->
                <div class="flex-none w-64 flex justify-end">
                    <button class="px-4 py-1.5 bg-white text-black font-bold rounded-lg hover:bg-gray-200 transition-all shadow-md text-sm">
                        <span class="flex items-center gap-2">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                                <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                                <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                                <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                            </svg>
                            Login with Google
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Sub-header with View Toggle & Search -->
    <div class="bg-white border-b border-gray-200 shadow-sm">
        <div class="max-w-[1600px] mx-auto px-6 py-3">
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-2">
                    <button onclick="switchView('posterboard')" id="btnPosterboard" class="px-4 py-2 bg-gray-900 text-white font-semibold rounded-md transition-colors text-sm">
                        Posterboard
                    </button>
                    <button onclick="switchView('timeline')" id="btnTimeline" class="px-4 py-2 bg-gray-200 text-gray-900 font-semibold rounded-md hover:bg-gray-300 transition-colors text-sm">
                        Timeline
                    </button>
                </div>

                <!-- Search -->
                <div class="relative flex-1 max-w-md ml-auto">
                    <input 
                        type="text" 
                        id="searchInput"
                        placeholder="Search events..." 
                        onkeyup="applyFilters()"
                        class="w-full pl-10 pr-4 py-2 bg-white border-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400 transition-all text-sm text-gray-900 placeholder-gray-500"
                    >
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Container with Sidebar -->
    <div class="max-w-[1600px] mx-auto px-6 py-6 flex gap-6">
        
        <!-- Left Sidebar - Filters -->
        <aside class="w-72 flex-shrink-0">
            <div class="bg-white rounded-lg shadow-md p-5 border border-gray-200">
                <div class="mb-4">
                    <h2 class="text-lg font-bold text-gray-900 mb-1">Filters</h2>
                    <p class="text-xs text-gray-500 font-medium">Refine your search</p>
                </div>

                <!-- Active Filters -->
                <div id="activeFiltersSection" class="hidden mb-4 pb-4 border-b border-gray-200">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs font-semibold text-gray-700">ACTIVE:</span>
                        <button onclick="clearAllFilters()" class="text-xs text-red-600 hover:text-red-700 font-semibold underline">
                            Clear All
                        </button>
                    </div>
                    <div id="activeFilterBadges" class="flex flex-wrap gap-1"></div>
                </div>

                <!-- Department Filter -->
                <div class="filter-section mb-3">
                    <button onclick="toggleSection('dept')" class="w-full flex items-center justify-between py-2 text-left border-b border-gray-200">
                        <span class="font-semibold text-gray-800 text-sm">Department</span>
                        <svg class="w-4 h-4 text-gray-600 transition-transform" id="dept-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="filter-content pl-2 mt-2 space-y-1" id="dept-content"></div>
                </div>

                <!-- Tags Filter -->
                <div class="filter-section mb-3">
                    <button onclick="toggleSection('tag')" class="w-full flex items-center justify-between py-2 text-left border-b border-gray-200">
                        <span class="font-semibold text-gray-800 text-sm">Tags</span>
                        <svg class="w-4 h-4 text-gray-600 transition-transform" id="tag-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="filter-content pl-2 mt-2 space-y-1" id="tag-content"></div>
                </div>

                <!-- Clubs Filter -->
                <div class="filter-section mb-3">
                    <button onclick="toggleSection('club')" class="w-full flex items-center justify-between py-2 text-left border-b border-gray-200">
                        <span class="font-semibold text-gray-800 text-sm">Clubs</span>
                        <svg class="w-4 h-4 text-gray-600 transition-transform" id="club-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="filter-content pl-2 mt-2 space-y-1" id="club-content"></div>
                </div>

                <!-- Status Filter -->
                <div class="filter-section mb-3">
                    <button onclick="toggleSection('status')" class="w-full flex items-center justify-between py-2 text-left border-b border-gray-200">
                        <span class="font-semibold text-gray-800 text-sm">Status</span>
                        <svg class="w-4 h-4 text-gray-600 transition-transform" id="status-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="filter-content pl-2 mt-2 space-y-1" id="status-content"></div>
                </div>

                <!-- Cost Filter -->
                <div class="filter-section mb-3">
                    <button onclick="toggleSection('cost')" class="w-full flex items-center justify-between py-2 text-left border-b border-gray-200">
                        <span class="font-semibold text-gray-800 text-sm">Cost</span>
                        <svg class="w-4 h-4 text-gray-600 transition-transform" id="cost-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="filter-content pl-2 mt-2 space-y-1" id="cost-content"></div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="flex-1">
            
            <!-- News Section -->
            <div id="newsSection" class="mb-8">
                <div class="bg-white rounded-lg p-4 mb-6 shadow-md border border-gray-200 relative overflow-hidden">
                    <h2 class="text-2xl font-bold text-gray-900">Current News</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-all border-l-4" style="border-left-color: #FFB6C1; background-color: #FFE5EC;">
                        <h3 class="font-bold text-base text-gray-900 mb-2">BMSCE Team Wins National Hackathon</h3>
                        <p class="text-xs text-gray-500 font-semibold mb-2">Jan 15, 2025</p>
                        <p class="text-gray-700 text-sm">CSE students secured first place at Smart India Hackathon.</p>
                    </div>
                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-all border-l-4" style="border-left-color: #E6E6FA; background-color: #F0E6FA;">
                        <h3 class="font-bold text-base text-gray-900 mb-2">AI & Robotics Lab Opened</h3>
                        <p class="text-xs text-gray-500 font-semibold mb-2">Jan 10, 2025</p>
                        <p class="text-gray-700 text-sm">State-of-the-art facility now available for students.</p>
                    </div>
                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-all border-l-4" style="border-left-color: #B0E0E6; background-color: #E5F3FF;">
                        <h3 class="font-bold text-base text-gray-900 mb-2">UTSAV 2025 Announced</h3>
                        <p class="text-xs text-gray-500 font-semibold mb-2">Jan 5, 2025</p>
                        <p class="text-gray-700 text-sm">Biggest cultural fest scheduled for May 2025!</p>
                    </div>
                </div>
            </div>

            <!-- Events Section -->
            <div class="mb-8">
                <div class="bg-white rounded-lg p-4 mb-6 shadow-md border border-gray-200 relative overflow-hidden">
                    <h2 class="text-2xl font-bold text-gray-900">Events</h2>
                    <p class="text-sm text-gray-600 mt-1">
                        Showing <span id="resultCount" class="font-bold text-gray-900">0</span> of <span id="totalCount" class="font-bold text-gray-900">0</span> events
                    </p>
                </div>

                <!-- Posterboard View -->
                <div id="posterboardView" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Events will be injected here -->
                </div>

                <!-- Timeline View -->
                <div id="timelineView" class="hidden space-y-6">
                    <!-- Timeline events will be injected here -->
                </div>
            </div>

        </main>
    </div>

    <!-- Footer -->
    <footer class="bg-black text-white mt-12 relative overflow-hidden">
        <div class="max-w-[1600px] mx-auto px-6 py-6 relative z-10">
            <div class="text-center">
                <p class="font-bold text-white text-base mb-1">BMSCE Event Hub</p>
                <p class="text-sm">BMS College of Engineering â€¢ Bull Temple Road, Basavanagudi, Bangalore</p>
                <p class="mt-3 text-xs text-gray-400">Â© 2025 All rights reserved</p>
            </div>
        </div>
    </footer>

    <script>
        // Dynamic Time Display Update
        function updateTime() {
            const now = new Date();
            
            // Format time as HH:MM:SS
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const timeString = `${hours}:${minutes}:${seconds}`;
            
            // Format date as Day, Month DD, YYYY
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('en-US', options);
            
            // Update the display
            document.getElementById('currentTime').textContent = timeString;
            document.getElementById('currentDate').textContent = dateString;
        }
        
        // Update time immediately and then every second
        updateTime();
        setInterval(updateTime, 1000);

        // Event Data with Instagram links, registration fees, and Free/Paid tags
        const eventsData = [
            {
                id: 1,
                title: "UTSAV 2025 - Annual Cultural Fest",
                date: "2025-05-15",
                time: "9:00 AM",
                venue: "Main Campus",
                department: "All",
                tags: ["Cultural", "Competition"],
                club: "Cultural Committee",
                status: "upcoming",
                cost: "Paid",
                registrationFee: 500,
                instagramLink: "https://instagram.com/bmsce_utsav",
                description: "BMSCE's flagship cultural fest featuring dance, music, drama, and art competitions.",
                bgColor: "#FFE5EC"
            },
            {
                id: 2,
                title: "Phase Shift 2025 - Technical Symposium",
                date: "2025-03-20",
                time: "10:00 AM",
                venue: "Platinum Jubilee Block",
                department: "All",
                tags: ["Technical", "Competition"],
                club: "IEEE",
                status: "upcoming",
                cost: "Paid",
                registrationFee: 300,
                instagramLink: "https://instagram.com/phaseshift_bmsce",
                description: "Annual technical fest with hackathons and robotics challenges.",
                bgColor: "#F0E6FA"
            },
            {
                id: 3,
                title: "AI & Machine Learning Workshop",
                date: "2025-02-10",
                time: "2:00 PM",
                venue: "CSE Block",
                department: "CSE",
                tags: ["Technical", "Workshop", "Seminar"],
                club: null,
                status: "upcoming",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/bmsce_cse",
                description: "Hands-on workshop on deep learning and neural networks.",
                bgColor: "#E5F9E5"
            },
            {
                id: 4,
                title: "Kreedautsov - Annual Sports Meet",
                date: "2025-04-05",
                time: "8:00 AM",
                venue: "Sports Complex",
                department: "All",
                tags: ["Sports", "Competition"],
                club: "Sports Department",
                status: "upcoming",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/bmsce_sports",
                description: "Inter-department sports competition.",
                bgColor: "#FFF0E5"
            },
            {
                id: 5,
                title: "IEEE Project Expo",
                date: "2025-03-10",
                time: "10:00 AM",
                venue: "Main Auditorium",
                department: "ECE",
                tags: ["Technical", "Competition"],
                club: "IEEE",
                status: "upcoming",
                cost: "Paid",
                registrationFee: 200,
                instagramLink: "https://instagram.com/ieee_bmsce",
                description: "Showcase innovative electronics projects.",
                bgColor: "#E5F3FF"
            },
            {
                id: 6,
                title: "NSS Blood Donation Camp",
                date: "2025-02-01",
                time: "9:00 AM",
                venue: "College Hospital",
                department: "All",
                tags: ["Social"],
                club: "NSS",
                status: "upcoming",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/nss_bmsce",
                description: "Annual blood donation drive.",
                bgColor: "#FFFDE5"
            },
            {
                id: 7,
                title: "Blockchain Seminar",
                date: "2025-02-25",
                time: "3:00 PM",
                venue: "Seminar Hall A",
                department: "CSE",
                tags: ["Technical", "Seminar"],
                club: null,
                status: "upcoming",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/bmsce_cse",
                description: "Expert talk on blockchain technology.",
                bgColor: "#FFE5EC"
            },
            {
                id: 8,
                title: "Bullz Racing Team Launch",
                date: "2025-01-20",
                time: "11:00 AM",
                venue: "Mechanical Workshop",
                department: "Mechanical",
                tags: ["Technical", "Social"],
                club: "Bullz Racing",
                status: "ongoing",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/bullzracing_bmsce",
                description: "Unveiling of formula racing car.",
                bgColor: "#F0E6FA"
            },
            {
                id: 9,
                title: "Rotaract Service Drive",
                date: "2025-01-20",
                time: "7:00 AM",
                venue: "Off Campus",
                department: "All",
                tags: ["Social"],
                club: "Rotaract",
                status: "ongoing",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/rotaract_bmsce",
                description: "Community outreach program.",
                bgColor: "#E5F9E5"
            },
            {
                id: 10,
                title: "Cybersecurity Workshop",
                date: "2025-02-18",
                time: "2:00 PM",
                venue: "ISE Lab",
                department: "ISE",
                tags: ["Technical", "Workshop", "Seminar"],
                club: null,
                status: "upcoming",
                cost: "Paid",
                registrationFee: 150,
                instagramLink: "https://instagram.com/bmsce_ise",
                description: "Learn ethical hacking from professionals.",
                bgColor: "#FFF0E5"
            },
            {
                id: 11,
                title: "CODEIO Coding Competition",
                date: "2025-03-01",
                time: "10:00 AM",
                venue: "Computer Lab",
                department: "CSE",
                tags: ["Technical", "Competition"],
                club: "CODEIO",
                status: "upcoming",
                cost: "Paid",
                registrationFee: 100,
                instagramLink: "https://instagram.com/codeio_bmsce",
                description: "24-hour coding hackathon.",
                bgColor: "#E5F3FF"
            },
            {
                id: 12,
                title: "Parmvaah Dance Performance",
                date: "2025-04-12",
                time: "6:00 PM",
                venue: "Main Auditorium",
                department: "All",
                tags: ["Cultural"],
                club: "Parmvaah",
                status: "upcoming",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/parmvaah_bmsce",
                description: "Classical dance performances.",
                bgColor: "#FFFDE5"
            },
            {
                id: 13,
                title: "Pravrutthi Theatre Festival",
                date: "2025-04-20",
                time: "5:00 PM",
                venue: "Open Air Theatre",
                department: "All",
                tags: ["Cultural"],
                club: "Pravrutthi",
                status: "upcoming",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/pravrutthi_bmsce",
                description: "Drama and theatre showcase.",
                bgColor: "#FFE5EC"
            },
            {
                id: 14,
                title: "Falcons Film Workshop",
                date: "2025-02-15",
                time: "3:00 PM",
                venue: "Media Lab",
                department: "All",
                tags: ["Technical", "Workshop"],
                club: "Falcons",
                status: "upcoming",
                cost: "Paid",
                registrationFee: 250,
                instagramLink: "https://instagram.com/falcons_bmsce",
                description: "Video editing workshop.",
                bgColor: "#F0E6FA"
            },
            {
                id: 15,
                title: "Sustainable Energy Seminar",
                date: "2025-03-05",
                time: "11:00 AM",
                venue: "Civil Block",
                department: "Civil",
                tags: ["Technical", "Seminar"],
                club: null,
                status: "upcoming",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/bmsce_civil",
                description: "Discussion on renewable energy.",
                bgColor: "#E5F9E5"
            },
            {
                id: 16,
                title: "NCC Republic Day Parade",
                date: "2025-01-26",
                time: "7:00 AM",
                venue: "College Grounds",
                department: "All",
                tags: ["Social"],
                club: "NCC",
                status: "completed",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/ncc_bmsce",
                description: "Republic Day celebrations.",
                bgColor: "#FFF0E5"
            },
            {
                id: 17,
                title: "New Year Tech Talk",
                date: "2025-01-10",
                time: "2:00 PM",
                venue: "Seminar Hall B",
                department: "CSE",
                tags: ["Technical", "Seminar"],
                club: null,
                status: "completed",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/bmsce_cse",
                description: "Tech trends for 2025.",
                bgColor: "#E5F3FF"
            },
            {
                id: 18,
                title: "Biotech Symposium",
                date: "2025-01-15",
                time: "10:00 AM",
                venue: "Biotech Block",
                department: "Biotech",
                tags: ["Technical", "Seminar"],
                club: null,
                status: "completed",
                cost: "Free",
                registrationFee: 0,
                instagramLink: "https://instagram.com/bmsce_biotech",
                description: "Research presentations.",
                bgColor: "#FFFDE5"
            }
        ];

        // Filter state
        let filters = {
            departments: [],
            tags: [],
            clubs: [],
            statuses: [],
            costs: [],
            search: ''
        };

        let currentView = 'posterboard';

        // Get unique values (excluding "All")
        const departments = [...new Set(eventsData.map(e => e.department))];
        const tags = [...new Set(eventsData.flatMap(e => e.tags))];
        const clubs = [...new Set(eventsData.map(e => e.club).filter(Boolean))];
        const statuses = ['upcoming', 'ongoing', 'completed'];
        const costs = ['Free', 'Paid'];

        // Initialize
        window.onload = function() {
            initializeFilters();
            renderEvents();
        };

        // Initialize filters
        function initializeFilters() {
            populateFilterSection('dept', departments);
            populateFilterSection('tag', tags);
            populateFilterSection('club', clubs);
            populateFilterSection('status', statuses);
            populateFilterSection('cost', costs);
        }

        function populateFilterSection(type, items) {
            const content = document.getElementById(`${type}-content`);
            content.innerHTML = items.map(item => `
                <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1.5 rounded transition-colors">
                    <input type="checkbox" 
                           class="filter-checkbox" 
                           value="${item}"
                           onchange="handleFilterChange('${type}', '${item}', this.checked)">
                    <span class="text-sm text-gray-700">${item}</span>
                </label>
            `).join('');
        }

        function toggleSection(type) {
            const section = document.getElementById(`${type}-content`).parentElement;
            const arrow = document.getElementById(`${type}-arrow`);
            section.classList.toggle('collapsed');
            arrow.style.transform = section.classList.contains('collapsed') ? 'rotate(-90deg)' : 'rotate(0)';
        }

        function handleFilterChange(type, value, checked) {
            const key = type === 'dept' ? 'departments' : type === 'tag' ? 'tags' : type === 'club' ? 'clubs' : type === 'status' ? 'statuses' : 'costs';
            if (checked) {
                if (!filters[key].includes(value)) {
                    filters[key].push(value);
                }
            } else {
                filters[key] = filters[key].filter(v => v !== value);
            }
            applyFilters();
        }

        function applyFilters() {
            filters.search = document.getElementById('searchInput').value.toLowerCase();
            renderEvents();
            updateActiveFilters();
        }

        function clearAllFilters() {
            filters = {
                departments: [],
                tags: [],
                clubs: [],
                statuses: [],
                costs: [],
                search: ''
            };
            document.getElementById('searchInput').value = '';
            document.querySelectorAll('.filter-checkbox').forEach(cb => cb.checked = false);
            applyFilters();
        }

        function updateActiveFilters() {
            const section = document.getElementById('activeFiltersSection');
            const badges = document.getElementById('activeFilterBadges');
            
            const active = [
                ...filters.departments.map(d => ({type: 'Dept', value: d})),
                ...filters.tags.map(t => ({type: 'Tag', value: t})),
                ...filters.clubs.map(c => ({type: 'Club', value: c})),
                ...filters.statuses.map(s => ({type: 'Status', value: s})),
                ...filters.costs.map(c => ({type: 'Cost', value: c}))
            ];

            if (active.length === 0) {
                section.classList.add('hidden');
                return;
            }

            section.classList.remove('hidden');
            badges.innerHTML = active.map(f => `
                <span class="filter-badge px-2 py-1 bg-gray-800 text-white text-xs font-semibold rounded">
                    ${f.type}: ${f.value}
                </span>
            `).join('');
        }

        function getFilteredEvents() {
            // REMOVED DATE RANGE FILTER - NOW SHOWS ALL EVENTS BY DEFAULT
            return eventsData.filter(event => {
                if (filters.search && !event.title.toLowerCase().includes(filters.search) && 
                    !event.description.toLowerCase().includes(filters.search)) {
                    return false;
                }
                if (filters.departments.length && !filters.departments.includes(event.department)) {
                    return false;
                }
                if (filters.tags.length && !event.tags.some(t => filters.tags.includes(t))) {
                    return false;
                }
                if (filters.clubs.length && !filters.clubs.includes(event.club)) {
                    return false;
                }
                if (filters.statuses.length && !filters.statuses.includes(event.status)) {
                    return false;
                }
                if (filters.costs.length && !filters.costs.includes(event.cost)) {
                    return false;
                }
                return true;
            }).sort((a, b) => {
                // Sort priority: ongoing > upcoming > completed
                const statusPriority = { ongoing: 0, upcoming: 1, completed: 2 };
                const aPriority = statusPriority[a.status] ?? 999;
                const bPriority = statusPriority[b.status] ?? 999;
                
                if (aPriority !== bPriority) {
                    return aPriority - bPriority;
                }
                
                // Within same status, sort by date
                return new Date(a.date) - new Date(b.date);
            });
        }

        function getDaysDifference(dateStr) {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const eventDate = new Date(dateStr);
            eventDate.setHours(0, 0, 0, 0);
            const diffTime = eventDate - today;
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        }

        function getStatusBadge(event) {
            const days = getDaysDifference(event.date);
            const statusColors = {
                upcoming: { border: 'border-yellow-400', bg: 'bg-yellow-100', text: 'text-yellow-800' },
                ongoing: { border: 'border-green-400', bg: 'bg-green-100', text: 'text-green-800' },
                completed: { border: 'border-gray-400', bg: 'bg-gray-200', text: 'text-gray-700' }
            };

            const colors = statusColors[event.status];
            let statusText = event.status === 'completed' 
                ? `Completed ${Math.abs(days)} day${Math.abs(days) !== 1 ? 's' : ''} ago`
                : event.status === 'ongoing'
                ? 'Happening Now'
                : days === 0 ? 'Today' 
                : days === 1 ? 'Tomorrow'
                : `${days} day${days !== 1 ? 's' : ''} remaining`;

            return { colors, statusText };
        }

        function formatDate(dateStr) {
            return new Date(dateStr).toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }

        function formatShortDate(dateStr) {
            return new Date(dateStr).toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric',
                year: 'numeric'
            });
        }

        function renderEvents() {
            const filtered = getFilteredEvents();
            document.getElementById('resultCount').textContent = filtered.length;
            document.getElementById('totalCount').textContent = eventsData.length;

            if (currentView === 'posterboard') {
                renderPosterboard(filtered);
            } else {
                renderTimeline(filtered);
            }
        }

        function renderPosterboard(events) {
            const container = document.getElementById('posterboardView');
            
            if (events.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-20">
                        <div class="text-6xl mb-4">ðŸ“…</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">No events found</h3>
                        <p class="text-gray-600">Try adjusting your filters</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = events.map(event => {
                const { colors, statusText } = getStatusBadge(event);
                return `
                    <div class="event-card bg-white rounded-lg overflow-hidden shadow-md border border-gray-200">
                        <div class="h-40 flex items-center justify-center border-b-2 border-gray-200" style="background-color: ${event.bgColor};">
                            <div class="text-5xl opacity-50">ðŸ“…</div>
                        </div>

                        <div class="p-4">
                            <div class="flex items-start justify-between mb-2">
                                <span class="px-2 py-1 ${colors.bg} ${colors.text} text-xs font-bold rounded">
                                    ${event.status.toUpperCase()}
                                </span>
                                <span class="text-xs font-semibold ${colors.text}">
                                    ${statusText}
                                </span>
                            </div>

                            <a href="${event.instagramLink}" target="_blank" rel="noopener noreferrer" class="instagram-link text-base font-bold mb-2 block hover:underline">
                                ${event.title}
                                <svg fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                </svg>
                            </a>
                            
                            <div class="text-xs text-gray-600 space-y-1 mb-3">
                                <div class="flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
                                    </svg>
                                    <span>${formatShortDate(event.date)}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
                                    </svg>
                                    <span>${event.time}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/>
                                    </svg>
                                    <span>${event.venue}</span>
                                </div>
                            </div>

                            <div class="flex flex-wrap gap-1.5 mb-3">
                                ${event.tags.map(tag => `
                                    <span class="px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded border border-gray-300">
                                        ${tag}
                                    </span>
                                `).join('')}
                                <span class="px-2 py-0.5 ${event.cost === 'Free' ? 'bg-green-100 text-green-700 border-green-300' : 'bg-red-100 text-red-700 border-red-300'} text-xs font-bold rounded border">
                                    ${event.cost}
                                </span>
                            </div>

                            <p class="text-xs text-gray-600 mb-3 leading-relaxed">${event.description}</p>

                            ${event.registrationFee > 0 ? `
                                <div class="text-sm font-bold text-gray-900 mb-3 pb-3 border-t border-gray-200 pt-2">
                                    Registration Fee: â‚¹${event.registrationFee}
                                </div>
                            ` : `
                                <div class="text-sm font-bold text-green-700 mb-3 pb-3 border-t border-gray-200 pt-2">
                                    FREE EVENT
                                </div>
                            `}

                            <div class="text-xs text-gray-600 mb-3 font-medium">
                                <span class="font-semibold">Dept:</span> ${event.department}
                                ${event.club ? ` | <span class="font-semibold">Club:</span> ${event.club}` : ''}
                            </div>

                            <div class="flex gap-2">
                                ${event.status === 'ongoing' ? `
                                    <button class="flex-1 px-3 py-2 bg-green-600 text-white text-xs font-bold rounded hover:bg-green-700 transition-all shadow-sm">
                                        Join Now
                                    </button>
                                ` : event.status === 'upcoming' ? `
                                    <button class="flex-1 px-3 py-2 bg-gray-900 text-white text-xs font-bold rounded hover:bg-gray-800 transition-all shadow-sm">
                                        Register
                                    </button>
                                ` : `
                                    <button disabled class="flex-1 px-3 py-2 bg-gray-300 text-gray-600 text-xs font-bold rounded cursor-not-allowed">
                                        Closed
                                    </button>
                                `}
                                <button class="flex-1 px-3 py-2 bg-white text-gray-900 text-xs font-bold rounded hover:bg-gray-100 transition-colors border border-gray-300">
                                    Feedback
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderTimeline(events) {
            const container = document.getElementById('timelineView');
            
            if (events.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-20">
                        <div class="text-6xl mb-4">ðŸ“…</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">No events found</h3>
                        <p class="text-gray-600">Try adjusting your filters</p>
                    </div>
                `;
                return;
            }

            // Sort timeline: completed first, then ongoing, then upcoming
            const sortedEvents = [...events].sort((a, b) => {
                const statusOrder = { completed: 0, ongoing: 1, upcoming: 2 };
                const aOrder = statusOrder[a.status] ?? 999;
                const bOrder = statusOrder[b.status] ?? 999;
                
                if (aOrder !== bOrder) {
                    return aOrder - bOrder;
                }
                
                return new Date(a.date) - new Date(b.date);
            });

            const grouped = {};
            sortedEvents.forEach(event => {
                const dateKey = formatDate(event.date);
                if (!grouped[dateKey]) grouped[dateKey] = [];
                grouped[dateKey].push(event);
            });

            container.innerHTML = Object.entries(grouped).map(([date, dateEvents]) => `
                <div>
                    <div class="bg-white rounded-lg p-4 mb-4 shadow-md border border-gray-200">
                        <h3 class="text-lg font-bold text-gray-900">${date}</h3>
                    </div>
                    <div class="space-y-4">
                        ${dateEvents.map(event => {
                            const { colors, statusText } = getStatusBadge(event);
                            return `
                                <div class="bg-white p-4 rounded-lg shadow-md border-l-4 ${colors.border} hover:shadow-lg transition-all" style="background-color: ${event.bgColor};">
                                    <div class="flex gap-4">
                                        <div class="flex-shrink-0 w-16 h-16 bg-white rounded-lg flex items-center justify-center border-2 border-gray-200 shadow-sm">
                                            <div class="text-2xl opacity-50">ðŸ“…</div>
                                        </div>

                                        <div class="flex-1">
                                            <div class="flex items-start justify-between mb-2">
                                                <a href="${event.instagramLink}" target="_blank" rel="noopener noreferrer" class="instagram-link text-base font-bold hover:underline">
                                                    ${event.title}
                                                    <svg fill="currentColor" viewBox="0 0 24 24">
                                                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                                    </svg>
                                                </a>
                                                <span class="px-2 py-1 ${colors.bg} ${colors.text} text-xs font-bold rounded ml-2">
                                                    ${event.status.toUpperCase()}
                                                </span>
                                            </div>

                                            <div class="text-xs text-gray-600 mb-2 font-medium">
                                                <span class="font-mono">${event.time}</span> | ${event.venue}
                                            </div>

                                            <p class="text-xs text-gray-700 mb-2">${event.description}</p>

                                            ${event.registrationFee > 0 ? `
                                                <div class="text-sm font-bold text-gray-900 mb-2">
                                                    Fee: â‚¹${event.registrationFee}
                                                </div>
                                            ` : ''}

                                            <div class="flex flex-wrap gap-1.5 mb-2">
                                                ${event.tags.map(tag => `
                                                    <span class="px-2 py-0.5 bg-white text-gray-700 text-xs font-medium rounded border border-gray-300">
                                                        ${tag}
                                                    </span>
                                                `).join('')}
                                                <span class="px-2 py-0.5 ${event.cost === 'Free' ? 'bg-green-100 text-green-700 border-green-300' : 'bg-red-100 text-red-700 border-red-300'} text-xs font-bold rounded border">
                                                    ${event.cost}
                                                </span>
                                            </div>

                                            <div class="flex items-center justify-between text-xs text-gray-600 font-medium">
                                                <span>
                                                    <span class="font-semibold">Dept:</span> ${event.department}
                                                    ${event.club ? ` | <span class="font-semibold">Club:</span> ${event.club}` : ''}
                                                </span>
                                                <span class="${colors.text} font-semibold">${statusText}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `).join('');
        }

        function switchView(view) {
            currentView = view;
            
            const posterView = document.getElementById('posterboardView');
            const timelineView = document.getElementById('timelineView');
            const btnPoster = document.getElementById('btnPosterboard');
            const btnTimeline = document.getElementById('btnTimeline');

            if (view === 'posterboard') {
                posterView.classList.remove('hidden');
                timelineView.classList.add('hidden');
                btnPoster.className = 'px-4 py-2 bg-gray-900 text-white font-semibold rounded-md transition-colors text-sm';
                btnTimeline.className = 'px-4 py-2 bg-gray-200 text-gray-900 font-semibold rounded-md hover:bg-gray-300 transition-colors text-sm';
            } else {
                posterView.classList.add('hidden');
                timelineView.classList.remove('hidden');
                btnPoster.className = 'px-4 py-2 bg-gray-200 text-gray-900 font-semibold rounded-md hover:bg-gray-300 transition-colors text-sm';
                btnTimeline.className = 'px-4 py-2 bg-gray-900 text-white font-semibold rounded-md transition-colors text-sm';
            }

            renderEvents();
        }
    </script>

</body>
</html>


